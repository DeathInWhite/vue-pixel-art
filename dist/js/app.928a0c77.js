(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)a=r[d],o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},o={app:0},i=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),o=s.n(n);o.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{attrs:{id:"app"}},[s("section",{staticClass:"nes-container is-dark"},[s("h1",{staticClass:"text-center"},[t._v("Vue Pixel Art")]),s("github-corner")],1),s("div",{staticClass:"layout wrap-row mt h100"},[s("section",{staticClass:"nes-container with-title w50 h-container section-paint"},[s("h2",{staticClass:"title"},[t._v("Paint")]),s("div",{staticClass:"layout align-end is-paint"},[s("div",{staticClass:"layout nowrap-column"},[s("label",[t._v("Preview")]),s("div",{staticClass:"preview"},[s("div",{ref:"previewBefore",staticClass:"before"})])]),s("div",{staticClass:"editor"},[s("div",{ref:"drawGrid",staticClass:"draw",style:t.getDrawStyle})])])]),s("section",{staticClass:"form nes-container with-title w50 h-container section-config"},[s("h2",{staticClass:"title"},[t._v("Configuration")]),s("div",{staticClass:"layout wrap-row align-end mt-negative"},[s("div",{staticClass:"nes-field mr-field"},[s("button",{staticClass:"nes-btn is-error",on:{click:t.changeSize}},[t._v("Clear paint")])]),s("div",{staticClass:"nes-field mr-field"},[s("button",{staticClass:"nes-btn",class:t.getClassBtnErase,on:{click:t.togglePaintErase}},[t._v(t._s(t.getLabelBtnErase))])]),s("div",{staticClass:"nes-field pr-field is-size"},[s("label",{attrs:{for:"size"}},[t._v("Size")]),s("div",{staticClass:"layout nowrap-row align-end"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"nes-input w100px",class:{"is-error":t.sizeError},attrs:{type:"number",id:"size",name:"size"},domProps:{value:t.size},on:{input:[function(e){e.target.composing||(t.size=e.target.value)},t.changeSize]}}),s("span",{staticClass:"pl"},[t._v("px")])])]),s("div",{staticClass:"nes-field is-pixels"},[s("label",{attrs:{for:"height"}},[t._v("Pixels")]),s("div",{staticClass:"layout nowrap-row align-end"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pixel,expression:"pixel"}],staticClass:"nes-input w100px",attrs:{type:"number",id:"pixel",name:"pixel"},domProps:{value:t.pixel},on:{input:[function(e){e.target.composing||(t.pixel=e.target.value)},t.output]}}),s("span",{staticClass:"pl"},[t._v("px")])])])]),s("div",{staticClass:"nes-field mt"},[s("div",{staticClass:"layout nowrap-row align-end pl-field mt-negative"},[s("div",{staticClass:"nes-field"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.borders,expression:"borders"}],staticClass:"nes-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.borders)?t._i(t.borders,null)>-1:t.borders},on:{click:function(e){return e.stopPropagation(),t.toggleBorders(e)},change:function(e){var s=t.borders,n=e.target,o=!!n.checked;if(Array.isArray(s)){var i=null,a=t._i(s,i);n.checked?a<0&&(t.borders=s.concat([i])):a>-1&&(t.borders=s.slice(0,a).concat(s.slice(a+1)))}else t.borders=o}}}),s("span",[t._v("Borders")])])]),s("div",{staticClass:"layout nowrap-column nes-field pr-field"},[s("label",{attrs:{for:"color"}},[t._v("Color")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],staticClass:"nes-input color",style:{backgroundColor:t.color},attrs:{type:"text"},domProps:{value:t.color},on:{click:function(e){return t.$refs.colorPicker.click()},blur:t.fillColor,input:function(e){e.target.composing||(t.color=e.target.value)}}}),s("input",{ref:"colorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateColor}})]),s("div",{staticClass:"layout nowrap-column nes-field"},[s("label",{attrs:{for:"color"}},[t._v("Background Color")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.backgroundColor,expression:"backgroundColor"}],staticClass:"nes-input",style:{backgroundColor:t.backgroundColor},attrs:{type:"text"},domProps:{value:t.backgroundColor},on:{input:[function(e){e.target.composing||(t.backgroundColor=e.target.value)},t.checkDefault],click:function(e){return t.$refs.bgColorPicker.click()}}}),s("input",{ref:"bgColorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateBgColor}})])])]),s("div",{staticClass:"nes-field mt"},[s("label",{attrs:{for:"height"}},[t._v("Code generated")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"textcode",staticClass:"nes-input w100",attrs:{id:"code",rows:t.getRows,name:"code",readonly:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),s("div",{staticClass:"layout nowrap-row relative f-size-btns"},[s("div",{staticClass:"nes-field mt pr-field"},[s("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"nes-btn is-primary"},[t._v("Copy to clipboard")])]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.show?s("div",{staticClass:"nes-balloon from-left copied transition"},[t._v("\n            Copied!\n          ")]):t._e()]),s("div",{staticClass:"nes-field mt pr-field"},[t.code?s("button",{staticClass:"nes-btn is-warning",on:{click:t.download}},[t._v("\n            "+t._s(t.downloading?"Downloading...":"Download as image")+"\n          ")]):t._e()]),s("div",{staticClass:"nes-field mt"},[s("button",{staticClass:"nes-btn is-success",on:{click:function(e){return t.$refs.file.click()}}},[t._v("\n            Image to 8-bit\n          ")])]),s("input",{ref:"file",attrs:{accept:".jpg, .jpeg, .png",id:"file",type:"file"},on:{change:t.pixelateImgAndDownload}})],1)]),s("footer",{staticClass:"layout justify-center align-center wrap-column"},[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"is-canvas"},[s("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}})])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"pr"},[t._v("Made with")]),s("i",{staticClass:"nes-icon heart"}),s("span",{staticClass:"pl"},[t._v("by")]),s("a",{staticClass:"pl",attrs:{href:"https://github.com/guastallaigor",target:"_blank"}},[t._v("@guastallaigor")]),s("span",{staticClass:"pr pl"},[t._v("/")]),s("span",{staticClass:"pr"},[t._v("Theme:")]),s("i",{staticClass:"snes-jp-logo"}),s("a",{staticClass:"pl-nes",attrs:{href:"https://nostalgic-css.github.io/NES.css/",target:"_blank"}},[t._v("NES.css")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt mb"},[s("span",{staticClass:"pr"},[t._v("Project refactored from")]),s("a",{attrs:{href:"https://github.com/BcRikko/css-collection/",target:"_blank"}},[t._v("CSS Collection / DotGen")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"pr"},[t._v("Credits:")]),s("a",{staticClass:"pl",attrs:{href:"https://github.com/BcRikko",target:"_blank"}},[t._v("@bc_rikko")])])}],a=(s("14b9"),s("6c7b"),s("e814")),r=s.n(a),l=(s("a481"),s("774e")),c=s.n(l),u=(s("ac6a"),s("96cf"),s("3b8d")),d=s("b6d0"),p=s.n(d),f=function(t,e){var s=e._c;return s("div",{staticClass:"main-gh-icon"},[s("a",{staticClass:"github-corner",attrs:{href:"https://github.com/guastallaigor/vue-pixel-art",target:"_blank","aria-label":"View source on GitHub"}},[s("svg",{staticStyle:{fill:"#262a2d",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[s("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),s("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),s("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])])},v=[],h=(s("f6d4"),s("2877")),g={},m=Object(h["a"])(g,f,v,!0,null,null,null),C=m.exports,b=s("70b0"),w=s.n(b),y=s("aeb1"),x=s.n(y),k=s("f60f"),_=s.n(k),E='<div class="vue-pixel-art"></div>',B={name:"App",components:{GithubCorner:C},data:function(){return{size:8,pixel:4,show:!1,sizeError:!1,isMouseDown:!1,color:"#1cb785",code:E,erase:!1,borders:!0,downloading:!1,white:!1,backgroundColor:"",colorCache:null}},computed:{getRows:function(){return window.innerWidth>1439?9:window.innerWidth>720?7:5},getLabelBtnErase:function(){var t=this.erase;return t?"Erase":"Paint"},getClassBtnErase:function(){var t=this.erase;return{"is-warning":t,"is-success":!t}},getDrawStyle:function(){var t=this.white;return t?"background:#fff !important;":""}},created:function(){this.colorCache=new p.a,this.fillColor()},mounted:function(){var t=this;this.changeSize(),document.addEventListener("mouseup",function(e){e&&e.target&&e.target.parentNode&&"draw"!==e.target.parentNode.className&&(t.isMouseDown=!1)})},beforeDestroy:function(){this.removeChilds(),document.removeEventListener("mouseup",function(){return{}})},methods:{fillColor:function(){this.colorCache.add(this.hexToRgb(this.color))},pixelateImgAndDownload:function(){var t=this.$refs,e=t.file,s=e.files,n=s.length;if(s&&n){var o=document.getElementById("canvas");setTimeout(function(){var t=s[0],e=new Image;e.onload=function(){_()(o,e,10)},e.src=URL.createObjectURL(t)});try{setTimeout(Object(u["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.a.toBlob(o);case 2:e=t.sent,x()(e,"vue-pixel-art-img-to-8bit.png","image/png");case 4:case"end":return t.stop()}},t)})),1e3)}catch(i){console.error(i)}}},download:function(){var t=this;this.downloading=!0,this.white=!0,this.toggleBorders();try{setTimeout(Object(u["a"])(regeneratorRuntime.mark(function e(){var s,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.$refs,n=s.drawGrid,e.next=4,w.a.toBlob(n);case 4:o=e.sent,x()(o,"vue-pixel-art.png","image/png"),t.downloading=!1,t.white=!1,t.toggleBorders();case 9:case"end":return e.stop()}},e)})))}catch(e){this.downloading=!1,this.white=!1,this.toggleBorders()}},togglePaintErase:function(){this.erase=!this.erase},getAllDivs:function(){var t=this.$refs,e=t.drawGrid;return e.querySelectorAll("div")},toggleBorders:function(){var t=this.getAllDivs();c()(t).forEach(function(t){t.className=t.className?"":"no-border"})},updateColor:function(t){var e=t.target.value;this.color=e},updateBgColor:function(t){var e=t.target.value;this.backgroundColor=e,this.toggleBgColor()},toggleBgColor:function(){var t=this,e=this.getAllDivs();c()(e).forEach(function(e){t.colorCache.has(e.style.backgroundColor)||(e.style.backgroundColor=t.backgroundColor)})},checkDefault:function(){"default"!==this.backgroundColor&&this.backgroundColor||(this.backgroundColor=""),this.toggleBgColor()},removeChild:function(t){t.removeEventListener("click",this.paint.bind(this,t)),t.removeEventListener("mousedown",this.mousedown.bind(this,t)),t.removeEventListener("mouseup",this.mouseup.bind(this,t)),t.removeEventListener("mousemove",this.mousemove.bind(this,t)),t.parentElement.removeChild(t)},removeChilds:function(){var t=this,e=this.getAllDivs();c()(e).forEach(function(e){t.removeChild(e)})},resetEventListner:function(){var t=this,e=this.getAllDivs();c()(e).forEach(function(e){e.addEventListener("mousedown",t.mousedown.bind(t,e)),e.addEventListener("mouseup",t.mouseup.bind(t,e)),e.addEventListener("mousemove",t.mousemove.bind(t,e)),e.addEventListener("click",t.paint.bind(t,e))})},hexToRgb:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,s,n){return e+e+s+s+n+n});var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s?"rgb(".concat(r()(s[1],16),", ").concat(r()(s[2],16),", ").concat(r()(s[3],16),")"):null},mousemove:function(t){this.isMouseDown&&this.mustPaint(t)},mousedown:function(t){this.isMouseDown=!0},mouseup:function(t){this.isMouseDown=!1},mustPaint:function(t){this.setBgColor(t,this.erase?"transparent":this.color)},paint:function(t){var e=t.style,s=e.backgroundColor===this.hexToRgb(this.color)?"transparent":this.color;this.setBgColor(t,s)},setBgColor:function(t,e){t.style.backgroundColor=e,this.output()},setPreview:function(){var t=r()(this.size,10),e=577/t/3,s=this.getBoxShadows(e),n=this.$refs,o=n.previewBefore;o.style.top="".concat(-1*e,"px"),o.style.left="".concat(-1*e,"px"),o.style.width="".concat(e,"px"),o.style.height="".concat(e,"px"),o.style.boxShadow=s,o.style.background="transparent"},getBoxShadows:function(t){var e=this.getAllDivs(),s=r()(this.size,10),n=c()(e).map(function(e,n){return["".concat(t*(n%s)+t,"px"),"".concat(t*Math.ceil((n+1)/s),"px"),0,e.style.backgroundColor||"transparent"].join(" ")}),o=n.filter(function(t){return!/(\s0 transparent$)/.test(t)});return o.join(", \n")},output:function(){var t=r()(this.pixel,10),e=this.getBoxShadows(t);this.setPreview(),this.code='<div class="vue-pixel-art"></div>\n<style>\n.vue-pixel-art::before {\n  content: "";\n  position: absolute;\n  top: '.concat(-1*t,"px;\n  left: ").concat(-1*t,"px;\n  width: ").concat(t,"px;\n  height: ").concat(t,"px;\n  background: transparent;\n  box-shadow: ").concat(e,";\n}\n</style>")},changeSize:function(){var t=this.$refs,e=t.previewBefore;if(e.style="",this.size>100)this.sizeError=!0;else{this.sizeError=!1,this.borders=!0;var s=t.drawGrid,n=r()(Math.pow(this.size,2),10),o=Array(n).fill(0);this.code=E,this.removeChilds(),o.forEach(function(t){var e=document.createElement("div");s.appendChild(e)}),this.resetEventListner(),s.style.gridTemplateColumns="1fr ".repeat(this.size),s.style.gridTemplateRows="1fr ".repeat(this.size)}},onCopy:function(){var t=this;this.show=!0,setTimeout(function(){t.show=!1},2e3)}}},P=B,z=(s("034f"),s("d152"),Object(h["a"])(P,o,i,!1,null,"762c8994",null)),S=z.exports,L=s("4eb5"),D=s.n(L);s("cdad"),s("30fe"),s("f757");n["a"].use(D.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,e,s){},d152:function(t,e,s){"use strict";var n=s("e42f"),o=s.n(n);o.a},e42f:function(t,e,s){},f6d4:function(t,e,s){"use strict";var n=s("fd0d"),o=s.n(n);o.a},f757:function(t,e,s){},fd0d:function(t,e,s){}});
//# sourceMappingURL=app.928a0c77.js.map