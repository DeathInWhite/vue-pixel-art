(function(t){function e(e){for(var s,i,a=e[0],c=e[1],l=e[2],d=0,p=[];d<a.length;d++)i=a[d],r[i]&&p.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},r={app:0},o=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"3edf":function(t,e,n){"use strict";var s=n("8162"),r=n.n(s);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("section",{staticClass:"nes-container is-dark"},[n("h1",{staticClass:"text-center"},[t._v("Vue Pixel Art")]),n("github-corner")],1),n("div",{staticClass:"layout wrap-row mt h100"},[n("section",{staticClass:"nes-container with-title w50 h-container section-paint"},[n("h2",{staticClass:"title"},[t._v("Paint")]),n("div",{staticClass:"layout align-end is-paint"},[n("div",{staticClass:"layout nowrap-column"},[n("label",[t._v("Preview")]),n("div",{staticClass:"preview"},[n("div",{ref:"previewBefore",staticClass:"before"})])]),n("div",{staticClass:"editor"},[n("div",{ref:"drawGrid",staticClass:"draw",style:t.getDrawStyle})])])]),n("section",{staticClass:"form nes-container with-title w50 h-container section-config"},[n("h2",{staticClass:"title"},[t._v("Configuration")]),n("div",{staticClass:"layout wrap-row align-end"},[n("div",{staticClass:"nes-field mr-field"},[n("button",{staticClass:"nes-btn is-error",on:{click:t.changeSize}},[t._v("Clear paint")])]),n("div",{staticClass:"nes-field mr-field"},[n("button",{staticClass:"nes-btn",class:t.getClassBtnErase,on:{click:t.togglePaintErase}},[t._v(t._s(t.getLabelBtnErase))])]),n("div",{staticClass:"nes-field pr-field is-size"},[n("label",{attrs:{for:"size"}},[t._v("Size")]),n("div",{staticClass:"layout nowrap-row align-end"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"nes-input w100px",class:{"is-error":t.sizeError},attrs:{type:"number",id:"size",name:"size"},domProps:{value:t.size},on:{input:[function(e){e.target.composing||(t.size=e.target.value)},t.changeSize]}}),n("span",{staticClass:"pl"},[t._v("px")])])]),n("div",{staticClass:"nes-field pr-field is-pixels"},[n("label",{attrs:{for:"height"}},[t._v("Pixels")]),n("div",{staticClass:"layout nowrap-row align-end"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pixel,expression:"pixel"}],staticClass:"nes-input w100px",attrs:{type:"number",id:"pixel",name:"pixel"},domProps:{value:t.pixel},on:{input:[function(e){e.target.composing||(t.pixel=e.target.value)},t.output]}}),n("span",{staticClass:"pl"},[t._v("px")])])])]),n("div",{staticClass:"nes-field mt"},[n("div",{staticClass:"layout nowrap-row align-end pl-field"},[n("div",{staticClass:"nes-field"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.borders,expression:"borders"}],staticClass:"nes-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.borders)?t._i(t.borders,null)>-1:t.borders},on:{click:function(e){return e.stopPropagation(),t.toggleBorders(e)},change:function(e){var n=t.borders,s=e.target,r=!!s.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);s.checked?i<0&&(t.borders=n.concat([o])):i>-1&&(t.borders=n.slice(0,i).concat(n.slice(i+1)))}else t.borders=r}}}),n("span",[t._v("Borders")])])]),n("div",{staticClass:"layout nowrap-column nes-field pr-field"},[n("label",{attrs:{for:"color"}},[t._v("Color")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],staticClass:"nes-input color",style:{backgroundColor:t.color},attrs:{type:"text"},domProps:{value:t.color},on:{click:function(e){t.$refs.colorPicker.click()},input:function(e){e.target.composing||(t.color=e.target.value)}}}),n("input",{ref:"colorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateColor}})]),n("div",{staticClass:"layout nowrap-column nes-field"},[n("label",{attrs:{for:"color"}},[t._v("Background Color")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.backgroundColor,expression:"backgroundColor"}],staticClass:"nes-input",style:{backgroundColor:t.backgroundColor},attrs:{type:"text"},domProps:{value:t.backgroundColor},on:{input:[function(e){e.target.composing||(t.backgroundColor=e.target.value)},t.checkDefault],click:function(e){t.$refs.bgColorPicker.click()}}}),n("input",{ref:"bgColorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateBgColor}})])])]),n("div",{staticClass:"nes-field mt"},[n("label",{attrs:{for:"height"}},[t._v("Code generated")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"textcode",staticClass:"nes-input w100",attrs:{id:"code",rows:t.getRows,name:"code",readonly:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),n("div",{staticClass:"layout nowrap-row relative"},[n("div",{staticClass:"nes-field mt pr-field"},[n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"nes-btn is-primary"},[t._v("Copy to clipboard")])]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.show?n("div",{staticClass:"nes-balloon from-left copied transition"},[t._v("\n            Copied!\n          ")]):t._e()]),n("div",{staticClass:"nes-field mt pr-field"},[t.code?n("button",{staticClass:"nes-btn is-warning",on:{click:t.download}},[t._v("\n            "+t._s(t.downloading?"Downloading...":"Download as image")+"\n          ")]):t._e()]),n("div",{staticClass:"nes-field mt"},[n("button",{staticClass:"nes-btn is-success",on:{click:function(e){t.$refs.file.click()}}},[t._v("\n            Image to 8bit\n          ")])]),n("input",{ref:"file",attrs:{accept:".jpg, .jpeg, .png",id:"file",type:"file"},on:{change:t.pixelateImgAndDownload}})],1)]),n("footer",{staticClass:"layout justify-center align-center wrap-column"},[t._m(0),t._m(1),t._m(2),n("div",{staticClass:"is-canvas"},[n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}})])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"pr"},[t._v("Made with")]),n("i",{staticClass:"nes-icon heart"}),n("span",{staticClass:"pl"},[t._v("by")]),n("a",{staticClass:"pl",attrs:{href:"https://github.com/guastallaigor",target:"_blank"}},[t._v("@guastallaigor")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt mb"},[n("span",{staticClass:"pr"},[t._v("Project refactored from")]),n("a",{attrs:{href:"https://github.com/BcRikko/css-collection/",target:"_blank"}},[t._v("CSS Collection / DotGen")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"pr"},[t._v("Credits:")]),n("a",{staticClass:"pl",attrs:{href:"https://github.com/BcRikko",target:"_blank"}},[t._v("@bc_rikko")])])}],i=(n("14b9"),n("6c7b"),n("a481"),n("5df3"),n("1c4c"),n("ac6a"),n("96cf"),n("1da1")),a=function(t,e){var n=e._c;return n("div",{staticClass:"main-gh-icon"},[n("a",{staticClass:"github-corner",attrs:{href:"https://github.com/guastallaigor/vue-pixel-art",target:"_blank","aria-label":"View source on GitHub"}},[n("svg",{staticStyle:{fill:"#262a2d",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[n("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),n("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),n("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])])},c=[],l=(n("f6d4"),n("2877")),u={},d=Object(l["a"])(u,a,c,!0,null,null,null);d.options.__file="GithubCorner.vue";var p=d.exports,f=n("70b0"),v=n.n(f),h=n("aeb1"),g=n.n(h),m=n("f60f"),C=n.n(m),b='<div class="vue-pixel-art"></div>',w={components:{GithubCorner:p},data:function(){return{size:8,pixel:4,show:!1,sizeError:!1,isMouseDown:!1,color:"#1cb785",code:b,erase:!1,borders:!0,downloading:!1,white:!1,backgroundColor:"",imgSrc:""}},computed:{getRows:function(){return window.innerWidth>1439?9:window.innerWidth>720?7:5},getLabelBtnErase:function(){var t=this.erase;return t?"Erase activated":"Paint activated"},getClassBtnErase:function(){var t=this.erase;return{"is-warning":t,"is-success":!t}},getDrawStyle:function(){var t=this.white;return t?"background:#fff !important;":""}},mounted:function(){var t=this;this.changeSize(),document.addEventListener("mouseup",function(e){e&&e.target&&e.target.parentNode&&"draw"!==e.target.parentNode.className&&(t.isMouseDown=!1)})},beforeDestroy:function(){this.removeChilds(),document.removeEventListener("mouseup",function(){return{}})},methods:{pixelateImgAndDownload:function(){var t=this.$refs,e=t.file,n=e.files,s=n.length;if(n&&s){var r=document.getElementById("canvas");setTimeout(function(){var t=n[0],e=new Image;e.onload=function(){C()(r,e,10)},e.src=URL.createObjectURL(t)});try{setTimeout(Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.a.toBlob(r);case 2:e=t.sent,g()(e,"vue-pixel-art-img-to-8bit.png","image/png");case 4:case"end":return t.stop()}},t,this)})),1e3)}catch(o){console.error(o)}}},download:function(){var t=this;this.downloading=!0,this.white=!0,this.toggleBorders();try{setTimeout(Object(i["a"])(regeneratorRuntime.mark(function e(){var n,s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$refs,s=n.drawGrid,e.next=4,v.a.toBlob(s);case 4:r=e.sent,g()(r,"vue-pixel-art.png","image/png"),t.downloading=!1,t.white=!1,t.toggleBorders();case 9:case"end":return e.stop()}},e,this)})))}catch(e){this.downloading=!1,this.white=!1,this.toggleBorders()}},togglePaintErase:function(){this.erase=!this.erase},getAllDivs:function(){var t=this.$refs,e=t.drawGrid;return e.querySelectorAll("div")},toggleBorders:function(){var t=this.getAllDivs();Array.from(t).forEach(function(t){t.className=t.className?"":"no-border"})},updateColor:function(t){var e=t.target.value;this.color=e},updateBgColor:function(t){var e=t.target.value;this.backgroundColor=e,this.toggleBgColor()},toggleBgColor:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){e.style.backgroundColor=t.backgroundColor})},checkDefault:function(){"default"!==this.backgroundColor&&this.backgroundColor||(this.backgroundColor="",this.toggleBgColor())},removeChild:function(t){t.removeEventListener("click",this.paint.bind(this,t)),t.removeEventListener("mousedown",this.mousedown.bind(this,t)),t.removeEventListener("mouseup",this.mouseup.bind(this,t)),t.removeEventListener("mousemove",this.mousemove.bind(this,t)),t.parentElement.removeChild(t)},removeChilds:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){t.removeChild(e)})},resetEventListner:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){e.addEventListener("mousedown",t.mousedown.bind(t,e)),e.addEventListener("mouseup",t.mouseup.bind(t,e)),e.addEventListener("mousemove",t.mousemove.bind(t,e)),e.addEventListener("click",t.paint.bind(t,e))})},hexToRgb:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,s){return e+e+n+n+s+s});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgb(".concat(parseInt(n[1],16),", ").concat(parseInt(n[2],16),", ").concat(parseInt(n[3],16),")"):null},mousemove:function(t){this.isMouseDown&&this.mustPaint(t)},mousedown:function(t){this.isMouseDown=!0},mouseup:function(t){this.isMouseDown=!1},mustPaint:function(t){this.setBgColor(t,this.erase?"transparent":this.color)},paint:function(t){var e=t.style,n=e.backgroundColor===this.hexToRgb(this.color)?"transparent":this.color;this.setBgColor(t,n)},setBgColor:function(t,e){t.style.backgroundColor=e,this.output()},setPreview:function(){var t=parseInt(this.size,10),e=577/t/3,n=this.getBoxShadows(e),s=this.$refs,r=s.previewBefore;r.style.top="".concat(-1*e,"px"),r.style.left="".concat(-1*e,"px"),r.style.width="".concat(e,"px"),r.style.height="".concat(e,"px"),r.style.boxShadow=n,r.style.background="transparent"},getBoxShadows:function(t){var e=this.getAllDivs(),n=parseInt(this.size,10),s=Array.from(e).map(function(e,s){return["".concat(t*(s%n)+t,"px"),"".concat(t*Math.ceil((s+1)/n),"px"),0,e.style.backgroundColor||"transparent"].join(" ")}),r=s.filter(function(t){return!/(\s0 transparent$)/.test(t)});return r.join(", \n")},output:function(){var t=parseInt(this.pixel,10),e=this.getBoxShadows(t);this.setPreview(),this.code='<div class="vue-pixel-art"></div>\n<style>\n.vue-pixel-art::before {\n  content: "";\n  position: absolute;\n  top: '.concat(-1*t,"px;\n  left: ").concat(-1*t,"px;\n  width: ").concat(t,"px;\n  height: ").concat(t,"px;\n  background: transparent;\n  box-shadow: ").concat(e,";\n}\n</style>")},changeSize:function(){var t=this.$refs,e=t.previewBefore;if(e.style="",this.size>100)this.sizeError=!0;else{this.sizeError=!1,this.borders=!0;var n=t.drawGrid,s=parseInt(Math.pow(this.size,2),10),r=Array(s).fill(0);this.code=b,this.removeChilds(),r.forEach(function(t){var e=document.createElement("div");n.appendChild(e)}),this.resetEventListner(),n.style.gridTemplateColumns="1fr ".repeat(this.size),n.style.gridTemplateRows="1fr ".repeat(this.size)}},onCopy:function(){var t=this;this.show=!0,setTimeout(function(){t.show=!1},2e3)}}},y=w,x=(n("034f"),n("3edf"),Object(l["a"])(y,r,o,!1,null,"7d636e32",null));x.options.__file="App.vue";var k=x.exports,_=n("4eb5"),E=n.n(_);n("cdad"),n("30fe");s["a"].use(E.a),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(k)}}).$mount("#app")},"64a9":function(t,e,n){},8162:function(t,e,n){},f6d4:function(t,e,n){"use strict";var s=n("fd0d"),r=n.n(s);r.a},fd0d:function(t,e,n){}});
//# sourceMappingURL=app.8b1a93b3.js.map