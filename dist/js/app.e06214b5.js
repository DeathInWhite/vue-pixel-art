(function(t){function e(e){for(var n,i,a=e[0],l=e[1],c=e[2],d=0,p=[];d<a.length;d++)i=a[d],s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var l=o[a];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("64a9"),s=o.n(n);s.a},"30aa":function(t,e,o){"use strict";var n=o("e06e"),s=o.n(n);s.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",{attrs:{id:"app"}},[o("section",{staticClass:"nes-container is-dark"},[o("h1",{staticClass:"text-center"},[t._v("Vue Pixel Art")]),o("github-corner")],1),o("div",{staticClass:"layout wrap-row mt h100"},[o("section",{staticClass:"nes-container with-title w50 h-container section-paint"},[o("h2",{staticClass:"title"},[t._v("Paint")]),o("div",{staticClass:"layout align-end is-paint"},[o("div",{staticClass:"layout nowrap-column"},[o("label",[t._v("Preview")]),o("div",{staticClass:"preview"},[o("div",{ref:"previewBefore",staticClass:"before"})])]),o("div",{staticClass:"editor"},[o("div",{ref:"drawGrid",staticClass:"draw",style:t.getDrawStyle})])])]),o("section",{staticClass:"form nes-container with-title w50 h-container section-config"},[o("h2",{staticClass:"title"},[t._v("Configuration")]),o("div",{staticClass:"layout wrap-row align-end"},[o("div",{staticClass:"nes-field mr-field"},[o("button",{staticClass:"nes-btn is-error",on:{click:t.changeSize}},[t._v("Clear paint")])]),o("div",{staticClass:"nes-field mr-field"},[o("button",{staticClass:"nes-btn",class:t.getClassBtnErase,on:{click:t.togglePaintErase}},[t._v(t._s(t.getLabelBtnErase))])]),o("div",{staticClass:"nes-field pr-field is-size"},[o("label",{attrs:{for:"size"}},[t._v("Size")]),o("div",{staticClass:"layout nowrap-row align-end"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"nes-input w100px",class:{"is-error":t.sizeError},attrs:{type:"number",id:"size",name:"size"},domProps:{value:t.size},on:{input:[function(e){e.target.composing||(t.size=e.target.value)},t.changeSize]}}),o("span",{staticClass:"pl"},[t._v("px")])])]),o("div",{staticClass:"nes-field pr-field is-pixels"},[o("label",{attrs:{for:"height"}},[t._v("Pixels")]),o("div",{staticClass:"layout nowrap-row align-end"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.pixel,expression:"pixel"}],staticClass:"nes-input w100px",attrs:{type:"number",id:"pixel",name:"pixel"},domProps:{value:t.pixel},on:{input:[function(e){e.target.composing||(t.pixel=e.target.value)},t.output]}}),o("span",{staticClass:"pl"},[t._v("px")])])])]),o("div",{staticClass:"nes-field mt"},[o("div",{staticClass:"layout nowrap-row align-end pl-field"},[o("div",{staticClass:"nes-field"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.borders,expression:"borders"}],staticClass:"nes-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.borders)?t._i(t.borders,null)>-1:t.borders},on:{click:function(e){return e.stopPropagation(),t.toggleBorders(e)},change:function(e){var o=t.borders,n=e.target,s=!!n.checked;if(Array.isArray(o)){var r=null,i=t._i(o,r);n.checked?i<0&&(t.borders=o.concat([r])):i>-1&&(t.borders=o.slice(0,i).concat(o.slice(i+1)))}else t.borders=s}}}),o("span",[t._v("Borders")])])]),o("div",{staticClass:"layout nowrap-column nes-field pr-field"},[o("label",{attrs:{for:"color"}},[t._v("Color")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],staticClass:"nes-input color",style:{backgroundColor:t.color},attrs:{type:"text"},domProps:{value:t.color},on:{click:function(e){t.$refs.colorPicker.click()},blur:t.fillColor,input:function(e){e.target.composing||(t.color=e.target.value)}}}),o("input",{ref:"colorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateColor}})]),o("div",{staticClass:"layout nowrap-column nes-field"},[o("label",{attrs:{for:"color"}},[t._v("Background Color")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.backgroundColor,expression:"backgroundColor"}],staticClass:"nes-input",style:{backgroundColor:t.backgroundColor},attrs:{type:"text"},domProps:{value:t.backgroundColor},on:{input:[function(e){e.target.composing||(t.backgroundColor=e.target.value)},t.checkDefault],click:function(e){t.$refs.bgColorPicker.click()}}}),o("input",{ref:"bgColorPicker",staticStyle:{display:"none"},attrs:{type:"color"},on:{input:t.updateBgColor}})])])]),o("div",{staticClass:"nes-field mt"},[o("label",{attrs:{for:"height"}},[t._v("Code generated")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"textcode",staticClass:"nes-input w100",attrs:{id:"code",rows:t.getRows,name:"code",readonly:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),o("div",{staticClass:"layout nowrap-row relative"},[o("div",{staticClass:"nes-field mt pr-field"},[o("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"nes-btn is-primary"},[t._v("Copy to clipboard")])]),o("transition",{attrs:{name:"fade",mode:"out-in"}},[t.show?o("div",{staticClass:"nes-balloon from-left copied transition"},[t._v("\n            Copied!\n          ")]):t._e()]),o("div",{staticClass:"nes-field mt pr-field"},[t.code?o("button",{staticClass:"nes-btn is-warning",on:{click:t.download}},[t._v("\n            "+t._s(t.downloading?"Downloading...":"Download as image")+"\n          ")]):t._e()]),o("div",{staticClass:"nes-field mt"},[o("button",{staticClass:"nes-btn is-success",on:{click:function(e){t.$refs.file.click()}}},[t._v("\n            Image to 8bit\n          ")])]),o("input",{ref:"file",attrs:{accept:".jpg, .jpeg, .png",id:"file",type:"file"},on:{change:t.pixelateImgAndDownload}})],1)]),o("footer",{staticClass:"layout justify-center align-center wrap-column"},[t._m(0),t._m(1),t._m(2),o("div",{staticClass:"is-canvas"},[o("canvas",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}})])])])])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("span",{staticClass:"pr"},[t._v("Made with")]),o("i",{staticClass:"nes-icon heart"}),o("span",{staticClass:"pl"},[t._v("by")]),o("a",{staticClass:"pl",attrs:{href:"https://github.com/guastallaigor",target:"_blank"}},[t._v("@guastallaigor")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mt mb"},[o("span",{staticClass:"pr"},[t._v("Project refactored from")]),o("a",{attrs:{href:"https://github.com/BcRikko/css-collection/",target:"_blank"}},[t._v("CSS Collection / DotGen")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("span",{staticClass:"pr"},[t._v("Credits:")]),o("a",{staticClass:"pl",attrs:{href:"https://github.com/BcRikko",target:"_blank"}},[t._v("@bc_rikko")])])}],i=(o("14b9"),o("6c7b"),o("a481"),o("1c4c"),o("96cf"),o("1da1")),a=(o("ac6a"),o("5df3"),o("4f7f"),function(t,e){var o=e._c;return o("div",{staticClass:"main-gh-icon"},[o("a",{staticClass:"github-corner",attrs:{href:"https://github.com/guastallaigor/vue-pixel-art",target:"_blank","aria-label":"View source on GitHub"}},[o("svg",{staticStyle:{fill:"#262a2d",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[o("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),o("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),o("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])])}),l=[],c=(o("f6d4"),o("2877")),u={},d=Object(c["a"])(u,a,l,!0,null,null,null);d.options.__file="GithubCorner.vue";var p=d.exports,f=o("70b0"),v=o.n(f),h=o("aeb1"),g=o.n(h),m=o("f60f"),C=o.n(m),b='<div class="vue-pixel-art"></div>',w={components:{GithubCorner:p},data:function(){return{size:8,pixel:4,show:!1,sizeError:!1,isMouseDown:!1,color:"#1cb785",code:b,erase:!1,borders:!0,downloading:!1,white:!1,backgroundColor:"",colorCache:null}},computed:{getRows:function(){return window.innerWidth>1439?9:window.innerWidth>720?7:5},getLabelBtnErase:function(){var t=this.erase;return t?"Erase activated":"Paint activated"},getClassBtnErase:function(){var t=this.erase;return{"is-warning":t,"is-success":!t}},getDrawStyle:function(){var t=this.white;return t?"background:#fff !important;":""}},created:function(){this.colorCache=new Set,this.fillColor()},mounted:function(){var t=this;this.changeSize(),document.addEventListener("mouseup",function(e){e&&e.target&&e.target.parentNode&&"draw"!==e.target.parentNode.className&&(t.isMouseDown=!1)})},beforeDestroy:function(){this.removeChilds(),document.removeEventListener("mouseup",function(){return{}})},methods:{fillColor:function(){this.colorCache.add(this.hexToRgb(this.color))},pixelateImgAndDownload:function(){var t=this.$refs,e=t.file,o=e.files,n=o.length;if(o&&n){var s=document.getElementById("canvas");setTimeout(function(){var t=o[0],e=new Image;e.onload=function(){C()(s,e,10)},e.src=URL.createObjectURL(t)});try{setTimeout(Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.a.toBlob(s);case 2:e=t.sent,g()(e,"vue-pixel-art-img-to-8bit.png","image/png");case 4:case"end":return t.stop()}},t,this)})),1e3)}catch(r){console.error(r)}}},download:function(){var t=this;this.downloading=!0,this.white=!0,this.toggleBorders();try{setTimeout(Object(i["a"])(regeneratorRuntime.mark(function e(){var o,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t.$refs,n=o.drawGrid,e.next=4,v.a.toBlob(n);case 4:s=e.sent,g()(s,"vue-pixel-art.png","image/png"),t.downloading=!1,t.white=!1,t.toggleBorders();case 9:case"end":return e.stop()}},e,this)})))}catch(e){this.downloading=!1,this.white=!1,this.toggleBorders()}},togglePaintErase:function(){this.erase=!this.erase},getAllDivs:function(){var t=this.$refs,e=t.drawGrid;return e.querySelectorAll("div")},toggleBorders:function(){var t=this.getAllDivs();Array.from(t).forEach(function(t){t.className=t.className?"":"no-border"})},updateColor:function(t){var e=t.target.value;this.color=e},updateBgColor:function(t){var e=t.target.value;this.backgroundColor=e,this.toggleBgColor()},toggleBgColor:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){t.colorCache.has(e.style.backgroundColor)||(e.style.backgroundColor=t.backgroundColor)})},checkDefault:function(){"default"!==this.backgroundColor&&this.backgroundColor||(this.backgroundColor="",this.toggleBgColor())},removeChild:function(t){t.removeEventListener("click",this.paint.bind(this,t)),t.removeEventListener("mousedown",this.mousedown.bind(this,t)),t.removeEventListener("mouseup",this.mouseup.bind(this,t)),t.removeEventListener("mousemove",this.mousemove.bind(this,t)),t.parentElement.removeChild(t)},removeChilds:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){t.removeChild(e)})},resetEventListner:function(){var t=this,e=this.getAllDivs();Array.from(e).forEach(function(e){e.addEventListener("mousedown",t.mousedown.bind(t,e)),e.addEventListener("mouseup",t.mouseup.bind(t,e)),e.addEventListener("mousemove",t.mousemove.bind(t,e)),e.addEventListener("click",t.paint.bind(t,e))})},hexToRgb:function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,o,n){return e+e+o+o+n+n});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?"rgb(".concat(parseInt(o[1],16),", ").concat(parseInt(o[2],16),", ").concat(parseInt(o[3],16),")"):null},mousemove:function(t){this.isMouseDown&&this.mustPaint(t)},mousedown:function(t){this.isMouseDown=!0},mouseup:function(t){this.isMouseDown=!1},mustPaint:function(t){this.setBgColor(t,this.erase?"transparent":this.color)},paint:function(t){var e=t.style,o=e.backgroundColor===this.hexToRgb(this.color)?"transparent":this.color;this.setBgColor(t,o)},setBgColor:function(t,e){t.style.backgroundColor=e,this.output()},setPreview:function(){var t=parseInt(this.size,10),e=577/t/3,o=this.getBoxShadows(e),n=this.$refs,s=n.previewBefore;s.style.top="".concat(-1*e,"px"),s.style.left="".concat(-1*e,"px"),s.style.width="".concat(e,"px"),s.style.height="".concat(e,"px"),s.style.boxShadow=o,s.style.background="transparent"},getBoxShadows:function(t){var e=this.getAllDivs(),o=parseInt(this.size,10),n=Array.from(e).map(function(e,n){return["".concat(t*(n%o)+t,"px"),"".concat(t*Math.ceil((n+1)/o),"px"),0,e.style.backgroundColor||"transparent"].join(" ")}),s=n.filter(function(t){return!/(\s0 transparent$)/.test(t)});return s.join(", \n")},output:function(){var t=parseInt(this.pixel,10),e=this.getBoxShadows(t);this.setPreview(),this.code='<div class="vue-pixel-art"></div>\n<style>\n.vue-pixel-art::before {\n  content: "";\n  position: absolute;\n  top: '.concat(-1*t,"px;\n  left: ").concat(-1*t,"px;\n  width: ").concat(t,"px;\n  height: ").concat(t,"px;\n  background: transparent;\n  box-shadow: ").concat(e,";\n}\n</style>")},changeSize:function(){var t=this.$refs,e=t.previewBefore;if(e.style="",this.size>100)this.sizeError=!0;else{this.sizeError=!1,this.borders=!0;var o=t.drawGrid,n=parseInt(Math.pow(this.size,2),10),s=Array(n).fill(0);this.code=b,this.removeChilds(),s.forEach(function(t){var e=document.createElement("div");o.appendChild(e)}),this.resetEventListner(),o.style.gridTemplateColumns="1fr ".repeat(this.size),o.style.gridTemplateRows="1fr ".repeat(this.size)}},onCopy:function(){var t=this;this.show=!0,setTimeout(function(){t.show=!1},2e3)}}},y=w,x=(o("034f"),o("30aa"),Object(c["a"])(y,s,r,!1,null,"5bdef802",null));x.options.__file="App.vue";var k=x.exports,_=o("4eb5"),E=o.n(_);o("cdad"),o("30fe");n["a"].use(E.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(k)}}).$mount("#app")},"64a9":function(t,e,o){},e06e:function(t,e,o){},f6d4:function(t,e,o){"use strict";var n=o("fd0d"),s=o.n(n);s.a},fd0d:function(t,e,o){}});
//# sourceMappingURL=app.e06214b5.js.map